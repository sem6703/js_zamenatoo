<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="data:image/gif;base64,R0lGODlhEAAQAPcAAD1NjT1MjT1LjD5KikFKh0JLhUFMi0hLiVFIg2JJg2tVkap/v86W2LRyvrB5vKRntD1JijxIiT9KiT9Kh0BIhkVKiDxJiERHhY88W4A8W5BMecuLv6Bps6Jnv6JgsjxLjD5JiD9JiT1KhTZKjEBJjkdGh05Di4w6Sps5M6M9PK1DRqc/SpVLaKtyrz1MjjxJiT1HiUFHgz9JhT5IhEJLfjxGi21BYXYvNnc0M4EzNZEuNoVBabuFxD5NkT9KjD9IiT1HijxHiEpGgohFX3M+XmxPbpJBTL1ORrhDQ5s/Oo9efsOMyz9OkUBMkDtKkDxJkz1Iij1LfWRAYY48SmI4Slk5R38zPqA+OKM7P5w5NX8xQ7t6t0BOjTtMjVdIeGVEX2ZQamk9Y3dYf315oomDp490i3g3SH0uOo82Nos1QJ5bj0BNkT1OkkdJh5A9UJkqLl8dKE0ZJkggMk8wSVY4V109V1otP1snNWcpMLJvh8GCtT9NlTpPkERMh308WX4gLFw2THFVcZVqg4lVZ4FLXnxGWXtLXXBIW1IqO5ZUbptXiD1PkjtNjz5LkExCem8+WoJxhWUrP3McK2QlLmggKHgkKHEsM1wlOVw2T4dGaqNdnD5PkjtOkURMjkJJjHtym5dqcJQvLIFASaGouIVncYQxP3g1P2gxPWU/UZdilKRrqUFQlD9MkEBLjztIjExUjplYZspLOa5ZV4xjcZBHRI8xO2MqNXI0Q2YrR7R7u9Ca3EJQlkFNk0JOkUFLjTxJkF1Ad7dFRstfTMJtWMtaPsBYUkwvOItMUJxSet+h7cWPzkFQlT9NkUFNlDpEjFxFeqSUuLCPncRgVLtcVFEsK51ZaMN2sLRyw7F3vEFQlj9NkkBOkkBMkT1OlD1LkT5DhT1Hh0ZEgFs9c2c/Zb+QseOu4rp8y8OG2bt/yUFRlkBPlD9Okj1NjkFMikZJi0lLjEpKikxJi09PhLGZztqz5tOS4bt2yK1wtQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQEewABACwAAAAAEAAQAAAI/wABBPjgogcTLmv2LNq0ateybOkCQIjwwkcTAGz4MOLEihczbeoERAAB4oeTLm36NOrUqheTbesGSAgBA8gTL278OPLkylcrbtoITBAR4wKUL2/+PPr06lezbuwKUBghI0gUMHAAQQIFC5gzb+0MVCAxQ4iUMHECRQoVK9izb+4OWChBY8gUMXIESRIlSxg0cO8QXDBRgwiVMXMGTRo1a1i0cPASYDhho0gVMnQIUSJFi5g0cfEUZEBxw4iVMnUKVSpVq9i0cfIWaEiB48gVM3YMWTJlyxg1cvMYbFCRAwmWM3cOXTp161i1cvQacFihI0kWNHgQYUKFC5k1c/UcdCRgsUOJljR5EmVKlSvZtXP2HnhowWPJFjV6FGlSpUsZNnT3BAQAOw==">


  <title>–ó–∞–º–µ–Ω–∞-211en</title>
  <style>
  /* –¥–µ–º–æ –≥–µ–π–º–ø–ª–µ—è https://www.youtube.com/watch?v=CJJdfhSjgFA */
/*
* Prefixed by https://autoprefixer.github.io/ru/
* PostCSS: v8.4.14,
* Autoprefixer: v10.4.7
* Browsers: last 4 version
*/

*:not(hr), *::after, *::before {
	-webkit-box-sizing: border-box;
	box-sizing: border-box;
	margin:0;
	padding:0;
	border:0
	}

ul {list-style-type: none}
 
body{
	font-family: sans-serif;
	background-color:#ded
	} 
#i{
	padding: 33px 0;
	background: -webkit-gradient(linear, left top, left bottom, from(grey), to(#ded));
	background: -o-linear-gradient(grey, #ded);
	background: linear-gradient(grey, #ded); 
	text-align: center;
	}


.ira{
	position: absolute;
	cursor: move; 
	color: white;
	display: -ms-grid;
	display: grid; 
	place-items:center; 
	-webkit-user-select: none; 
	-moz-user-select: none; 
	-ms-user-select: none; 
	user-select: none;
	font-size:16px;
	width:25px; 
	height: 20px;
    z-index: 9;
	background: navy;
	}
.iba{
	margin: 0 2px;
	display: -ms-grid;
	display: grid; 
	place-items: center; 
	-webkit-user-select: none; 
	-moz-user-select: none; 
	-ms-user-select: none; 	
	width: 25px;	
	font-size: 16px;
	color: white;
	background: navy;
	cursor: move;
	user-select: none;
    }	


.km{margin:2px;
	display: -ms-grid;
	display: grid; place-items: center;
	width:43px;  
	border:4px solid blue;
	position: fixed; bottom: 0px;
	background: white;
	font-family : monospace;
	font-size:24px;
	-o-text-overflow: clip;
	   text-overflow: clip;
	color:black;
	letter-spacing:1px;
	z-index:6;
	}


.a:before{
	content: '';
	display:  block;
	position: absolute;
	width: 5px; 
	height: 20px;
	top: -27px;
	left: 15px;
	background: blue;
	}



.b:after{
	content: '';
	display: block;
	position: absolute;
	width: 35px; 
	height: 5px;
	top: -12px;
	left: 2px;
	background: blue;
	}
legend{
	font-family: monospace;
	font-size: 24px;
	text-align: center;
	color: blue;
	}


#m1,#m2,#m3{
	margin: auto; 
	color: white; 
	text-align: left;
	border: 5px solid white;
	font-family : monospace;
	width: -webkit-fit-content;
	width: -moz-fit-content;
	width: fit-content;
	padding: 20px 4%;
	font-size: 22px;
	letter-spacing: 8px;
	line-height: 37px;
	max-width: 800px;
	}
#m1{
	position: absolute; 
	top: 0; 
	left: 0;
	border: 5px solid #ffffff00;
	color: #00000080;
	background: white;
	}
#m2{
	position: absolute; 
	top: 0; 
	left: 0;
	background: transparent;
	padding-top: 5px;
	color: purple;
	font-weight: 700;
	}
#m3{
	visibility:hidden;
	}

article{
	margin: auto;
	position: relative;
	width: -webkit-fit-content;
	width: -moz-fit-content;
	width: fit-content;
	}

#ty{
	padding-top: 100px;
	display: -webkit-box;
	display: -ms-flexbox;
	display: flex;
	-webkit-box-pack: center;
	-ms-flex-pack: center;
	justify-content: center; 
	-webkit-box-align: start; 
	-ms-flex-align: start; 
	align-items: flex-start;
	-ms-flex-wrap: wrap;
	flex-wrap: wrap; 
	visibility: hidden;
	position: fixed; 
	bottom: 10px;
	width: 100%;
	height: 444px;
	background: fuchsia;
	z-index: 5;
	}
#fa{
	width: 100%;
	height: 444px;
	background: transparent;
	position: fixed; 
	bottom: 0;
	display: -webkit-box;
	display: -ms-flexbox;
	display: none;/*flex; */
	-webkit-box-align: start;
	-ms-flex-align: start; 
	align-items: flex-start;
	-ms-flex-wrap: wrap;
	flex-wrap: wrap;
	z-index:6;
	}

button{
	margin: 1px;
	padding: 8px 16px; 
	background: #efd;
	border: 2px solid blue; 
	border-radius: 5px;
	font-size: 21px;
	cursor:pointer;
	-webkit-transition: all 1s;
	-o-transition: all 1s;
	transition: all 1s
	}
button:hover{background: #fff;}
p{
	height: 444px; 
	visibility: hidden;
	}
nav{
	position: fixed;
	top: 20px;
	left: 0;
	display: -webkit-box;
	display: -ms-flexbox;
	display: none;/*flex; */
	-webkit-box-orient: vertical; 
	-webkit-box-direction: normal; 
	-ms-flex-direction: column; 
	flex-direction: column;
	}
#cop{
	width: calc(100% - 6px);
	height: 222px;
	background: #ded;
	position: absolute; 
	left: -9999px;
	}
	
/* proga 2 */

#i100{padding: 33px 0;background: linear-gradient(rgba(0,0,0,0.9), blue); 
text-align: center;
}

.ki{
	margin:1px;width:45px;height:60px;
	display: inline-block;
	background: url(img/cipher02.png);
	background-position: left 0px top -490px;
	background-size: auto;
	b0ackground-size: cover;
	background-repeat: no-repeat;
	background-attachment: local;
	border:4px solid white; border-radius:4px;
	}

.uni{display: none;}

.ki:has(.uni:checked){border-color: lime;}

#b23{padding:10px;cursor:pointer;border-radius:12px;}
  </style>  
</head>
<body>
	<nav id="nav">
		<button id="btn1" onclick="
			ir.forEach((x,i)=>{
				x.style.top=ib[i].offsetTop+'px';
				x.style.left=ib[i].offsetLeft+'px';});	
			conny();// –≤—ã–≤–æ–¥ –¥–µ—à–∏
		">reset</button>
		<button onclick="
			cop.value=m2.innerText;
			cop.select();
			document.execCommand('copy');
			window.getSelection()?.removeAllRanges();
			m1.style.color='#00000000';//.value='';//
		">copy</button>
		<button onclick="
			navigator.clipboard.readText()
				.then(text => {
				text=[...text].map(i=>i.toUpperCase()).join('');
				cop.value=text;
				main(cop.value);
				btn1.onclick();
				})
				.catch(err => {
				console.log('Oblomingo flyed pass', err);
				});
				
		">paste</button>		
	</nav>
	<textarea id="cop">–¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</textarea>
	
	
<!-- begin proga 2  -->	
<section id="pro2">
<div id="kv" style="position:fixed;top:44px;left:6px;
background-color: black;width:223px; height:670px;a0spect-ratio:1;
padding:1px;
">
<button id="b23" style="visibility:hidden;">union</button><br>
<button class="ki" style=""></button>

</div>

<div id="d1" style="margin-top: 33px;width:23px;aspect-ratio:1; background: yellow;border:5px solid white;display:none;v0isibility:hidden;"></div>
<center>
<button id="bph" style="
margin:0; padding:0;
overflow:hidden;
height:567px;
background: #23282c;
background-image: url(img/cipher02.png);
background-position: left top;
background-size: cover;
background-repeat: no-repeat;
background-attachment: local;
">	
<svg id="g" width="800" height="655" viewBox="0 0 800 655" fill="none"
onclick="
if(r) {r=false; return 0;}
let xx=event.clientX-bph.offsetLeft;
let yy=event.clientY-bph.offsetTop+window.pageYOffset;//window.getComputedStyle(bhp).left
let hh=35;
let ww=24;
if (yy>fu1&&yy<fu2&&xx>fx) // –ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ —Ñ–∞—Ä–≤–∞—Ç–µ—Ä  
	{
	if((xx-fx)>15){xx=fx+20.7} // —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ç–∫–∏ –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤- –ø—Ä–∏ –∫–ª–∏–∫–µ –≤ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏, –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∫–≤–∞–¥—Ä–∞—Ç—ã —à–∏—Ä–∏–Ω–æ–π 20,7
	//console.log(xx-fx);
	//alert(yy+ ' '+fu1+' '+fu2);
	yrr.push({x:fx,y:fu1,w:xx-fx,h:fu2-fu1,
	stroke:'red',opacity:'0.2',fill:'lime',a:' ',});
	fx=xx;
	fu1=fu1; // –∫–∞–∂–¥—ã–π —â–µ–ª—á–µ–∫ –∑–∞–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ñ–∞—Ä–≤–∞—Ç–µ—Ä
	fu2=fu2;		
	}
	else
	{
	yrr.push({x:xx,y:yy,w:ww,h:hh,
	stroke:'red',opacity:'0.2',fill:'lime',a:' ',});
	fx=xx+ww;
	fu1=yy; // –∫–∞–∂–¥—ã–π —â–µ–ª—á–µ–∫ –∑–∞–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ñ–∞—Ä–≤–∞—Ç–µ—Ä
	fu2=yy+hh;	
	
	}

fx_wat();// —Å–ª–µ–∂–∫–∞ –∑–∞ fx
let w=yrr.push()-1;
q=w;// –∫—É—Ä—Å–æ—Ä –∫–≤–∞–¥—Ä–∞—Ç–æ–≤//
ben=true;
g.innerHTML+=`<rect id=ux${w} x=${yrr[w].x} y=${yrr[w].y} width=${yrr[w].w} height=${yrr[w].h} opacity=.2 fill=lime stroke=red onclick=fn(this,this.getAttribute('fill'),${w})></rect>`;
">
<line id="line" x1="0" y1="1" x2="0" y2="500" stroke="teal" />
</svg>
</button>


<div id=i100>
<button id="btn10" style="margin-right:100px;padding: 4px;border-radius: 4px;font-size: 16px;">do group</button>
<button id="btn2" style="padding: 4px;border-radius: 4px;font-size: 16px;"
onclick="
	proga=proga^1^2;
	//alert(proga);
	if (proga===2){
	fa.style.display='none';
		nav.style.display='none';
		//kv.style.display='block';
		pro2.style.display='block';
		}
	if (proga===1){
		fa.style.display='flex';
		nav.style.display='flex';
		pro2.style.display='none';
		}
	//
	ss=ta1.value;
	main(ss);
	btn1.onclick();
"
> NEXT üîªÔ∏è </button>

</div>
<textarea id="ta1" rows="2" cols="90" style="color: white; background: #1a0e5a;">

</textarea>

</section>
	
<!-- end proga 2  -->		
	

	<div id=i>
		<article>
			<div id="m3"></div>
			<div id="m1"></div>
			<div id="m2"></div>
		</article>
		<div id="ty"></div>
	</div>
	<form id="fa"></form>
	<p></p>	

<script>
'use strict';
//*******************************************************************
//*******************************************************************
//**a, q,yrr,ben, fx, fu1, fu2, hb, bb, aa, alf, m, mySet, kax, kay, r,**
const kax=1.6;
const kay=1.6;
let fu1=0, fu2=0, fx=0;
let q=0;// –∫—É—Ä—Å–æ—Ä –∫–≤–∞–¥—Ä–∞—Ç–æ–≤
let bb=[];// –≤—Å–µ –≥—Ä—É–ø–ø–≤ –±—É–∫–≤
let r=false;
let ben=true;
//let ux;
let yrr=[


];


//function fn(x){x.setAttribute('fill',['lime','none'][1^['lime','none'].indexOf(x.getAttribute('fill'))])}
//let c=['lime','none'];
//let c=['none','lime'];
function fn(x,y,z)
	{
	ben=true;
	if(y=='lime')
	{x.setAttribute('fill','red');x.setAttribute('opacity','.5');yrr[z]['fill']='red'}
	if(y=='red')//else
	{x.setAttribute('fill','lime');x.setAttribute('opacity','.2');yrr[z]['fill']='lime'}
	if(y=='black')//else
	{x.setAttribute('fill','lime');x.setAttribute('opacity','.2');yrr[z]['fill']='lime'}
	r=true;
	q=z;//
	}

btn10.addEventListener('click',()=>{
let m=[];
let a=[...document.querySelectorAll('[id^="ux"]')];
a.forEach((x,i)=>{if(x.getAttribute('fill')=='red')
	{x.setAttribute('fill','black');x.setAttribute('opacity','.5');m.push(i)}});
	
//const mySet = new Set(m);	
// –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—á–∏—Å—Ç–∏–º –±–æ–ª—å—à–æ–π –º–∞—Å—Å–∏–≤ –æ—Ç –º–∞—Å—Å–∏–≤–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—Ö–æ–¥—è—â–∏—Ö –≤ m
// —Ö–º... –¥–∞ –Ω—É –Ω–µ–º–æ–∂–µ—Ç –∂–µ –±—ã—Ç—å.. —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ—Å–µ—á–Ω–∏–π –º–Ω–æ–∂–µ—Å—Ç–≤, –∏—Ö —Å—Ä–∞–≤–Ω–∏–µ–Ω–∏–π?
// –∑–∞–µ–±–∏—Å—Ç–æ –±—É–¥–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ—à—Ç—É—á–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
//bb.filter(i=>{let n=new Set(i);});
bb=bb.filter(i=>!i.every(j=>m.includes(j)));// –ø–æ–¥–º–∞—Å—Å–∏–≤—ã —É–¥–∞–ª—è—é
m.forEach(x=>{bb=bb.map(i=>i.filter(k=>k!==x))});// –¥—É–±–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–¥–∞–ª—è—é
bb=bb.filter(i=>i.length);//–ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã —É–¥–∞–ª–∏—Ç—å
if (m.length) bb.push(m);

bb.sort((a,b)=>b.length-a.length);

let alf='–ê–ë–í–ì–î–ï–Å–ñ–ó–ò–ô–ö–õ–ú–ù–û–ü–†–°–¢–£–§–•–¶–ß–®–©–™–´–¨–≠–Æ–Ø–∞–±–≤–≥–¥–µ—ë–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—ä—ã—å—ç—é—è';
bb.forEach((x,i)=>{x.forEach(j=>{yrr[j]['a']=alf[i]})});
let aa=yrr.map(i=>i['a']).join('');
console.log(bb);//console.log(aa);//
ta1.value=aa;
/*

*/
let hb=bb.map(i=>
'<label class="ki" style="background-position: left -'+
(yrr[i[0]]['x']*kax)+'px top -'+
(yrr[i[0]]['y']*kay)+'px">\r\n'+
'<input class="uni" type="checkbox">'+
'</label>\r\n');
kv.innerHTML='<button id="b23"'+((bb.length>1)?'':' style="visibility:hidden;"')+
	'>union</button><br>'+hb.join('');
b23.onclick=si;
});

function si(){
	let kiss=[...document.querySelectorAll('.uni')];
	let ra=[];
	kiss.forEach((x,i)=>{if(x.checked){
	//alert(`–æ–±—å–µ–¥–∏–Ω—è—à–∏ [${ra}] –∏ [${bb[i]}]`);
	ra=ra.concat(bb[i]);bb[i]=[];}});
	bb=bb.filter(i=>i.length);//–ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã —É–¥–∞–ª–∏—Ç—å
	//alert(ra);
	if (ra.length) bb.push(ra);
	bb.sort((a,b)=>b.length-a.length);	
	let hb=bb.map(i=>
	'<label class="ki" style="background-position: left -'+
	(yrr[i[0]]['x']*kax)+'px top -'+
	(yrr[i[0]]['y']*kay)+'px">\r\n'+
	'<input class="uni" type="checkbox">\r\n'+
	'</label>');
	kv.innerHTML='<button id="b23"'+((bb.length>1)?'':' style="visibility:hidden;"')+
	'>union</button><br>'+hb.join('');	
	b23.onclick=si;
	console.log(bb);
	let alf='–ê–ë–í–ì–î–ï–Å–ñ–ó–ò–ô–ö–õ–ú–ù–û–ü–†–°–¢–£–§–•–¶–ß–®–©–™–´–¨–≠–Æ–Ø–∞–±–≤–≥–¥–µ—ë–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—ä—ã—å—ç—é—è';
	bb.forEach((x,i)=>{x.forEach(j=>{yrr[j]['a']=alf[i]})});
	let aa=yrr.map(i=>i['a']).join('');
	//console.log(bb);//console.log(aa);//
	ta1.value=aa;	
	}

function fx_wat(){// —Å–ª–µ–∂–∫–∞ –∑–∞ fx
	line.setAttribute('x1',fx);
	line.setAttribute('x2',fx);
	}
 //********************* –≤—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –∫—É—Ä—Å–æ—Ä–Ω—ã–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏
 document.addEventListener('keydown', (e) => {// ‚Üê‚Üë‚Üì‚Üí
    //if(ux)
	
	if(!(yrr[q])) return 0;
	//alert(q);
	switch(e.keyCode) {
		case 40: {//‚Üì
		e.preventDefault();// —á—Ç–æ–±—ã –Ω–µ —Å–∫—Ä–æ–ª–ª–∏–ª–æ—Å—å –∫—É—Ä—Å–æ—Ä–Ω—ã–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏
		 if(ben)
		  {
		  yrr[q]['y']=yrr[q]['y']+1;
		  fu1++;
		  fu2++;
		  }
		  else
		  {
		  yrr[q]['h']=yrr[q]['h']+1;
		  fu2++;
		  }
		  //ux.setAttribute('y',yrr[0]['y']);
		  //alert(ux.getAttribute('y'));
		  break;
		}
		case 38: {//‚Üë
		e.preventDefault();
			if(ben)
		  {	
		  yrr[q]['y']=yrr[q]['y']-1;
		  fu1--;
		  fu2--;
		  }
		  else
		  {
		  yrr[q]['h']=yrr[q]['h']-1;
		  fu2--;
		  }
		  break;
		}	  
		case 39: {//‚Üí
		e.preventDefault();
			if(ben)
			{
		  yrr[q]['x']=yrr[q]['x']+1;
		  fx++;
		  }
		  else
		  {
		  yrr[q]['w']=yrr[q]['w']+1;
		  fx++;
		  }
		  break;
		}
		case 37: {//‚Üê
		e.preventDefault();
			if(ben)
			{
		  yrr[q]['x']=yrr[q]['x']-1;
		  fx--;
		  }
		  else
		  {
		  yrr[q]['w']=yrr[q]['w']-1;
		  fx--;
		  }
		  break;
		}
		case 96: { // numpad0
			ben=!ben;
			yrr[q]['stroke']=['purple','red'][+ben];
			break;
		}
		default: break;
	  }
	  fx_wat();// —Å–ª–µ–∂–∫–∞ –∑–∞ fx
	  
	  let a=[...document.querySelectorAll('[id^="ux"]')];
	  a[q].setAttribute('x',yrr[q]['x']);
	  a[q].setAttribute('y',yrr[q]['y']);
	  a[q].setAttribute('width',yrr[q]['w']);
	  a[q].setAttribute('height',yrr[q]['h']);
	  a[q].setAttribute('opacity',yrr[q]['opacity']);	  
	  a[q].setAttribute('fill',yrr[q]['fill']);	  
	  a[q].setAttribute('stroke',yrr[q]['stroke']);
	  
	  }

	);
//**************************

//*******************************************************************
//*******************************************************************
//*******************************************************************
/*–æ–±—å–µ–¥–∏–Ω–∏–ª –æ–±–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –æ–¥–Ω—É */
var proga=2;
var ir,ib;
let ws;// –∫–æ–æ—Ä–¥—ã —Ä–∞–∑–º–µ—Ä—ã –±–∞—à–µ–Ω

      //  –ê  –ë  –í  –ì  –î  –ï  –Å  –ñ  –ó  –ò  –ô  –ö  –õ  –ú  –ù  –û  –ü  –† 
const fqru=[21,7 ,14,4 ,9 ,34,0 ,4 ,12,21,11,11,12,16,35,38,8 ,12,
		//  –°  –¢  –£  –§  –•  –¶  –ß  –®  –©  –™  –´  –¨  –≠  –Æ  –Ø  _
			18,19,8 ,2 ,5 ,1 ,4 ,3 ,2 ,0 ,13,3 ,0 ,0 ,11,45];
			
//A82B15C28D43E127F22G20H61I70J2K8L40M24N68O75P19Q1R60S63T91U28V10W24X2Y20Z1			
		// A   B   C   D   E   F   G   H   I   J   K   L   M
const fqen=[ 82, 15, 28, 43,127, 22, 20, 61, 70,  2,  8, 40, 24, 

		//  N   O   P   Q   R   S   T   U   V   W   X   Y   Z
			68, 75, 19,  1, 60, 63, 91, 28, 10, 24,  2, 20,  1];	
let fq=fqen;
		
const ef='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
/*
const af=[...'–ê–ë–í–ì–î–ï–Å–ñ–ó–ò–ô–ö–õ–ú–ù–û–ü–†–°–¢–£–§–•–¶–ß–®–©–™–´–¨–≠–Æ–Ø'];
const qf=[...'–û–ù–ï–ê–ò–¢–°–ú–í–´–õ–ó–†–ô–ö–Ø–î–ü–£–ë–•–ì–ñ–ß–¨–®–§–©–¶–Æ–≠–™–Å'];
*/
const afru=[...'–ê–ë–í–ì–î–ï–Å–ñ–ó–ò–ô–ö–õ–ú–ù–û–ü–†–°–¢–£–§–•–¶–ß–®–©–™–´–¨–≠–Æ–Ø'];

const af=[...'ABCDEFGHIJKLMNOPQRSTUVWXYZ'];
const qf=[...'ETAOINSHRDLCUMWFGYPBVKJXQZ'];
let f;
let o; // –æ–±—å–µ–∫—Ç
let p;// –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–ª—è –∞–ª—Ñ–∞–≤–∏—Ç–∞ —à–∏—Ñ—Ä–æ—Ç–µ–∫—Å—Ç–∞
let hu,hi;
let t=[];// abcd
let s1;

ty.innerHTML=qf.map((x,i)=>
	{
	//alert(((fq[af.indexOf(x)])/60+21)+'px;">');
	return '<div class="iba" style="height:'+
	(fq[af.indexOf(x)]/4+21)+ // –¥–µ–ª—é —á–∞—Å—Ç–æ—Ç—É –Ω–∞ 4 –∞ —Ç–æ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å—Ç–æ–ª–±—ã
	'px;">'+x+'</div>'}).join('');





function dragElement(ass) {//Make the DIV element draggagle:
	var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
	ass.onmousedown = dragMouseDown;

	function dragMouseDown(e) {
		e = e || window.event;
		// get the mouse cursor position at startup:
		pos3 = e.clientX;
		pos4 = e.clientY;
		document.onmouseup = closeDragElement;
		// call a function whenever the cursor moves:
		document.onmousemove = elementDrag;
		}

	function elementDrag(e) {
		e = e || window.event;
		// calculate the new cursor position:
		pos1 = pos3 - e.clientX;
		pos2 = pos4 - e.clientY;
		pos3 = e.clientX;
		pos4 = e.clientY;
		// set the element's new position:
		ass.style.top = (ass.offsetTop - pos2) + "px";
		ass.style.left = (ass.offsetLeft - pos1) + "px";
		}

	function closeDragElement() {
		/* stop moving when mouse button is released:*/
		document.onmouseup = null;
		document.onmousemove = null;
		[...ir].forEach((x,i)=>{localStorage.setItem(`myXCat211${i}`,x.offsetLeft)});
		[...ir].forEach((x,i)=>{localStorage.setItem(`myYCat211${i}`,x.offsetTop)});
		conny();// –≤—ã–≤–æ–¥ –¥–µ—à–∏
		}
}


/*
const ss='–ò –§–≠–ü–≠ –®–ò–©–†–Æ–°–©–¨–î –¶–ü–°–Æ–ñ–Æ. –ü–¶–°–î–ß–©–≠, –ñ–ë–´–†–°–•–≠, –ñ–Æ–ñ –ê–≠–°–ì–•–≠ –Æ–û–ë–¶–¨–ì–Æ–ì–•. –© –¨–Æ–ë–Æ–ö, –ñ–¶–ì–¶–ë–•–ö –ñ–Æ–õ–Æ–°–¨–ù –¨ –õ–≠–¢–°–© –¶–ú–≠–§–î –¶–ü–•–ñ–§–¶–ò–≠–§–§–•–¢, –í–°–•–° –§–Æ–ò–¨–ì–ë–≠–ú–´ –¶–ü–°–Æ–ñ–Æ–¢, –ü–´–®–ì–¶ –í–¶–®–§–ù–ì–•–ö –ò –§–≠–ü–¶ –ñ–¶–ë–Æ–ü–°–î. –Æ –®–ò–¶–ë –§–Æ–í–¶–¢–©–§–Æ–° –í–¶–ò–≠–ë–£–§–¶–¨–ì–î –í–°–Æ–§–≠–ì–•, –´–ò–©–®–≠–§–§–´–Ø –¨ –ñ–¶–¨–¢–©–ú–≠–¨–ñ–¶–ö –ò–•–¨–¶–ì–•. –¶–¨–ì–ë–¶–ò–ñ–© –í–•–°–î–§–¶–ö –ì–ë–Æ–ò–•, –í–≠–ë–≠–¨–•–í–Æ–§–§–¶–ö –¨–≠–®–•–¢–© –ß–Æ–ë–©–ñ–Æ–¢–© –¶–®–´–ò–Æ–§–ú–©–ñ–¶–ò, –ü–•–°–© –í–¶–£–¶–ê–© –§–Æ –õ–≠–°–≠–§–•–ö –Æ–ë–£–©–í–≠–°–Æ–†, –Æ –®–¶–ê–®–≠–ò–Æ–ù –ò–¶–®–Æ –ò –ü–¶–ú–ñ–≠ –´ –¨–Æ–ë–Æ–ù, –¨–°–¶–ò–§–¶ –ñ–ë–´–†–°–¶–≠ –¶–õ–≠–ë–¶ –ò –¶–ì–ò–≠–¨–§–•–£ –ü–≠–ë–≠–†–Æ–£, –¨–ò–≠–ì–©–°–¶–¨–î –†–¶–°–´–ü–¶–ö –¨–©–§–≠–ò–¶–ö. –¢–Æ–°–î–ú–©–ñ –°–Ø–ü–©–° –ò–¨–≠–¢–´ –§–Æ –¨–ò–≠–ì–≠ –®–Æ–ò–Æ–ì–î –©–¢–≠–§–Æ –© –§–Æ–õ–ò–Æ–§–©–ù. –¶–§–© –ò–¨–≠–†–®–Æ –í–ë–©–®–´–¢–•–ò–Æ–°–©–¨–î –¨–ë–Æ–õ–´. –õ–≠–ë–ñ–Æ–°–î–ï–≠ –ò–¶–®–• –ò –ü–¶–ú–ñ–≠ –¶–§ –§–Æ–õ–ò–Æ–° –¶–õ–≠–ë–¶–¢ –¨–©–§–≠–†–¶ –¨–ò–≠–ì–Æ, –Æ –í–ù–ì–§–Æ –ì–ë–Æ–ò–• –Æ–ë–£–©–í–≠–°–Æ–†–¶–¢ –§–≠–©–õ–ò–≠–®–Æ–§–§–•–£ –°–≠–¨–¶–ò.';
*/
/*
const ss='–ù–ï–ì–ò –í–õ–ê –ë–ù–í –ñ–ï–ö–û–í–ì–ë –§–ë–î–£–ê–ï–ô–ê –Å–ï–ê –ï–§–ô–õ–î–ë–° –í–ì –ñ–ï–ö–û–í–ì–ë –Å–ñ–Å–ó–ê–ò–ö –ù–ì–ï –ë–ê–ü –¢–ë–ì–ü–ú–ê–ó–°–ê –î–ë –í–õ–ê –ü–ì–ï–ú–ó –ì–ù –†–ú–ì–ñ–¢–ñ–õ–Å–î–ë –í–ê–ñ–õ–ë–ì–ú–ì–°–î–ê–ô! "–Å–ë –î–ë–£–ê–ô–í–ò–ê–ë–í –î–ë –¢–ë–ì–ü–ú–ê–ó–°–ê –Å–ú–ü–Å–ö–ô –û–Å–ö–ô –í–õ–ê –†–ê–ô–í –î–ë–í–ê–ï–ê–ô–í."  –†–ê–ë–•–Å–ò–î–ë –ù.  –ú–î–ò–î–í–ê–ó –ê–ó–î–í–î–ì–ë –ì–ù –ë–ù–í  "–ñ–ï–ö–û–í–ì–ë –Å–ñ–Å–ó–ê–ò–ö - –î–ë–£–ê–ô–í–ò–ê–ë–í –î–ë –¢–ë–ì–ü–ú–ê–ó–°–ê"  (–ß–®–¶ –î–ë –í–ì–í–Å–ú),  –ü–õ–î–ñ–õ –ü–ê–ï–ê –ì–†–í–Å–î–ë–ê–ó –†–ö –í–õ–ê –ù–î–ï–ô–í –ò–ê–ò–†–ê–ï–ô –ì–ù –í–õ–ê –û–ï–î–£–Å–í–ê –ñ–ï–ö–û–í–ì–ë –Å–ñ–Å–ó–ê–ò–ö –û–ï–ì–•–ê–ñ–í. –ó–î–ô–ñ–ì–ï–ó –ñ–ï–ö–û–í–ì–ë - –ñ–ò–ó: !–ï–ê–ó–ï–ì–ì–ò';

main(ss);
*/
let ss;// —à–∏—Ñ—Ä–æ—Ç–µ–∫—Å—Ç


function main(ss){
fa.innerHTML=qf.map((x,i)=>
	{return '<div class="ira" style="height:'+
	(fq[af.indexOf(x)]/4+21)+
	'px;">'+x+'</div>'}).join('');

//p=new Set([...ss].filter(x=>af.indexOf(x)>-1));
p=new Set([...ss].filter(x=>afru.includes(x)));

const d=Array.from(p).join('');//–≥–æ—Ä–¥



const q=[...ss].filter(x=>afru.includes(x))//afru.indexOf(x)>-1)// —á–∞—Å—Ç–æ—Ç–∞
	.reduce((a,x)=>{a[x]=~~a[x]+1;return a},{})
const c=[...afru].filter(i=>i in q).sort((a,b)=>q[b]-q[a]).map(i=>q[i]-1);//21,14,13

const qa=[...afru].filter(i=>i in q).sort((a,b)=>q[b]-q[a]).join('');//–æ—Ç–µ–∏c
s1=[...ss].map(x=>(qa.includes(x))?ef[qa.indexOf(x)]:x).join('');
//alert(qa); qa.indexOf(x)>-1
//********************************************

const booa=[...ef].map(x=>{/// –æ–¥–Ω–æ–±—É–∫—ã–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
	let e=new RegExp('\\b'+x+'\\b','g');
	return e.test(s1);
});

const boob=[...ef].map(x=>{/// —É–¥–≤–æ–π–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã
	let e=new RegExp(x+x);
	return e.test(s1);
});

let sot=new Set();// –¢–ò–ü–ê –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ–Ω—ã
let key=[];
[...ss].forEach(x=>{
	if((af.indexOf(x)>-1)&&!sot.has(x))key.push(x); 
	sot.add(x)
});
key=key.concat(af.filter(x=>!sot.has(x)));


//***************************************
t=[];
for (let i=0; i<d.length; i++){t.push(ef[i])}
t=t.join('');
	
	
	
let iq4=[...t].map((x,i)=>//–∞–¥–¥–∏—Ç–∏–≤–Ω–æ–µ –æ–±—å–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –∫–æ–ª–æ–¥ - –Ω–µ–±–æ—Å–∫—Ä–µ–±—ã –∏ –±—É–∫–≤—ã
'<fieldset class="km'+
`${(booa[i])?' a':''}`+ //–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —à—Ç—Ä–∏—Ö
`${(boob[i])?' b':''}`+ // –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω —à—Ç—Ä–∏—Ö
	'" style="left:'+(i*46)+'px">'+x+'</fieldset>').join('');	
fa.innerHTML+=iq4;
ir=[...document.querySelectorAll('.ira')];// –ø–æ–¥–≤–∏–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
ib=[...document.querySelectorAll('.iba')];// –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã         
ir.forEach((x,i)=>{x.style.left = (localStorage.getItem(`myXCat211${i}`)||ib[i].offsetLeft)+'px';});
ir.forEach((x,i)=>{x.style.top = (localStorage.getItem(`myYCat211${i}`)||1)+'px';});
af.forEach((x,i)=>{dragElement(ir[i])});
//*****************************

hu=document.querySelectorAll('.km');
// –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –µ—Å—Ç—å –∑–¥–∞–Ω–∏—è —Ä–∞–∑–Ω–æ–π –≤—ã—Å–æ—Ç—ã, –∏–Ω–∞—á–µ —Å—Ö–ª–æ–ø–Ω–µ—Ç—Å—è
//if (c.every(i=>i===c[0])) 
//alert(c);
hi=c.map((x,i)=>`${43+((c[i]*400/c[0])|0)}px`);
//alert(hi);
[...hu].forEach((x,i)=>{x.style.height=hi[i]});// –≤—ã—Å–æ—Ç–∞ –Ω–µ–±–æ—Å–∫—Ä–µ–±–æ–≤
const sit=()=>{
	ws=[...hu].map(x=>{return {// –∫–æ–æ—Ä–¥—ã –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö –º–µ—Å—Ç
		x1:x.offsetLeft,
		x2:x.offsetLeft+x.offsetWidth,
		y1:x.offsetTop,
		y2:x.offsetTop+x.offsetHeight
	}});
}

sit();// –ø–µ—Ä–µ—Å—á–µ—Ç –∫–æ–æ—Ä–¥ –ø–æ—Å–∞–¥–æ–∫
conny();// –≤—ã–≤–æ–¥ –¥–µ—à–∏

window.onresize=()=>{sit()}
//*******************
}// end main

function conny(){// –≤—ã–≤–æ–¥ –¥–µ—à–∏
	o=[...t].reduce((a,x)=>{a[x]='.'; return a},{});
	[...ir].forEach((x,i)=>{
		let v=x.offsetLeft+ 12;
		let w=x.getBoundingClientRect().top+20;
		let b=x.innerText;
		for(let j=0; j<t.length;j++){//–≤ –∫–∞–∫—É—é –±–∞—à–Ω—é –ø–æ–ø–∞–ª
			f=w>ws[j].y1&&w<ws[j].y2;
			if(f&&(v>ws[j].x1)&&(v<ws[j].x2)){o[t[j]]=b}	
		}
	});
	m1.innerHTML=[...s1].map(x=>x).join('');//DAS
	m2.innerHTML=[...s1].map(x=>(x in o)?o[x]:x).join('');
	m3.innerHTML=m2.innerHTML;
}
</script>   
</body>
</html>
